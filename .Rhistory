set.seed(2)
m <- matrix(runif(18, 0, 1), nrow = 3, ncol = 6)
m <- round(m, 5)
m
format(m, scientific=T, digits = 3)       # exponential form, 3 significant digits
m
format(0.233345, scientific=T, digits = 3)       # exponential form, 3 significant digits
# Can also do the other way around
format(2.33e-01, scientific=F, digits = 2)
# Can also do the other way around
format(2.33e-01, scientific=F, digits = 3)
# 4. To force a scientific notation use format()
format(0.2378345, scientific=T, digits = 3)       # exponential form, 3 significant digits
# Can also do the other way around
format(2.33e-01, scientific=F, digits = 3)
# Can also do the other way around
format(2.387e-01, scientific=F, digits = 2)
# Can also do the other way around
format(2.387e-11, scientific=F, digits = 2)
dates <- c(
"01-05-2025",
"02-14-2025",
"03-23-2025",
"04-30-2025",
"05-12-2025",
)
split.dates <- strsplit(dates, "-")
dates <- c(
"01-05-2025",
"02-14-2025",
"03-23-2025",
"04-30-2025",
"05-12-2025",
)
dates <- c(
"01-05-2025",
"02-14-2025",
"03-23-2025",
"04-30-2025",
"05-12-2025",
)
dates <- c(
"01-05-2025",
"02-14-2025",
"03-23-2025",
"04-30-2025",
"05-12-2025"
)
split.dates <- strsplit(dates, "-")
split.dates
split.dates <- strsplit(dates, "-")
split.dates
lapply(split.dates, "[")
lapply(split.dates, "[", 3)
sapply(split.dates, "[", 3)
year <- sapply(split.dates, "[", 3)
years <- unlist(lapply(split.dates, "[", 3))
years
sapply(split.dates, "[", 3)
dates <- c(
"01-05-2025",
"02-14-2021",
"03-23-2019",
"04-30-2022",
"05-12-2024"
)
split.dates <- strsplit(dates, "-")
split.dates                                      # returns a list
years <- unlist(lapply(split.dates, "[", 3))
years
months <- sapply(split.dates, "[", 1)
months
grepl(dates, "20")
grepl("20", dates)
dates <- c(
"01-05-1925",
"02-14-2021",
"03-23-1919",
"04-30-1867",
"05-20-1994"
)
split.dates <- strsplit(dates, "-")
split.dates                                      # returns a list
years <- unlist(lapply(split.dates, "[", 3))
years
months <- sapply(split.dates, "[", 1)
days  <- sapply(split.dates, "[", 2)
grepl("20", dates)
which(grepl("20", dates))
dates[which(grepl("20", dates))]
all(which(grepl("20", dates)))
grep("20", dates)
all(which(grepl("20", dates))) == grep("20", dates)
grep("20", dates) == which(grepl("20", dates))
dates[grep("20", dates)]
months
months <- as.numeric(months)
months
ret[months >= 3 & months <= 5] <- "Spring"
ret <- reo(NA, length(months))
ret <- rep(NA, length(months))
ret[months >= 3 & months <= 5] <- "Spring"
ret
months >= 3 & months <= 5
months
months <- as.numeric(months)
months
month.to.season <- function(months){
ret <- rep(NA, length(months))
ret[months >= 3 & months <= 5] <- "Spring"
ret[months >= 6 & months <= 8] <- "Summer"
ret[months >= 9 & months <= 11] <- "Fall"
ret[months == 12 | months == 1 | months ==22] <- "Winter"
return(ret)
}
month.to.season(months)
months
ret[months == 12 | months == 1 | months == 2] <- "Winter"
return(ret)
month.to.season <- function(months){
ret <- rep(NA, length(months))
ret[months >= 3 & months <= 5] <- "Spring"
ret[months >= 6 & months <= 8] <- "Summer"
ret[months >= 9 & months <= 11] <- "Fall"
ret[months == 12 | months == 1 | months == 2] <- "Winter"
return(ret)
}
month.to.season(months)
dates <- c(
"01-05-1925",
"12-14-2021",
"03-23-1919",
"11-30-1867",
"05-20-1994",
"07-02-1995",
"10-20-1994"
)
split.dates <- strsplit(dates, "-")
split.dates                                      # returns a list
years <- unlist(lapply(split.dates, "[", 3))
years
months <- sapply(split.dates, "[", 1)
days  <- sapply(split.dates, "[", 2)
grepl("20", dates)                      # returns a logical vector
which(grepl("20", dates))
dates[which(grepl("20", dates))]
all(which(grepl("20", dates)))          # returns  TRUE if pattern is present in atleast 1
# grep can return indices directly
grep("20", dates) == which(grepl("20", dates))
dates[grep("20", dates)]
months <- as.numeric(months)
months
month.to.season <- function(months){
ret <- rep(NA, length(months))
ret[months >= 3 & months <= 5] <- "Spring"
ret[months >= 6 & months <= 8] <- "Summer"
ret[months >= 9 & months <= 11] <- "Fall"
ret[months == 12 | months == 1 | months == 2] <- "Winter"
return(ret)
}
month.to.season(months)
to.season <- function(dates, pos=1){ # position of month in ypur dates
months <- as.numeric(sapply(dates, "[", pos))
ret <- rep(NA, length(months))
ret[months >= 3 & months <= 5] <- "Spring"
ret[months >= 6 & months <= 8] <- "Summer"
ret[months >= 9 & months <= 11] <- "Fall"
ret[months == 12 | months == 1 | months == 2] <- "Winter"
return(ret)
}
to.season <- function(dates, pos=1){ # position of month in ypur dates
months <- as.numeric(sapply(dates, "[", pos))
ret <- rep(NA, length(months))
ret[months >= 3 & months <= 5] <- "Spring"
ret[months >= 6 & months <= 8] <- "Summer"
ret[months >= 9 & months <= 11] <- "Fall"
ret[months == 12 | months == 1 | months == 2] <- "Winter"
return(ret)
}
to.season <- function(dates, pos=1){ # position of month in ypur dates
months <- as.numeric(sapply(dates, "[", pos))
ret <- rep(NA, length(months))
ret[months >= 3 & months <= 5] <- "Spring"
ret[months >= 6 & months <= 8] <- "Summer"
ret[months >= 9 & months <= 11] <- "Fall"
ret[months == 12 | months == 1 | months == 2] <- "Winter"
return(ret)
}
to.season(dates)
as.numeric(sapply(dates, "[", 1))
sapply(dates, "[", 1)
as.numeric(sapply(strsplit(dates, "-"), "[", 1))
to.season <- function(dates, pos=1){ # position of month in your dates
months <- as.numeric(sapply(strsplit(dates, "-"), "[", pos))
ret <- rep(NA, length(months))
ret[months >= 3 & months <= 5] <- "Spring"
ret[months >= 6 & months <= 8] <- "Summer"
ret[months >= 9 & months <= 11] <- "Fall"
ret[months == 12 | months == 1 | months == 2] <- "Winter"
return(ret)
}
to.season(dates)
# To do computation with dates
date1 <- as.Date("05/11/1993", format = "%d/%m/%Y")
date1 <- as.Date("05/11/1993", format = "%d/%m/%Y")
date2 <- as.Date("23-11-2025", format = "%d-%m-%Y")
date2 - date1
date1 <- as.Date("05/11/93", format = "%d/%m/%y")
date1
class(date1)
Sys.Date()
# give me 10 weeks from today
seq(Sys.Date(), length.out = 10, by = "1 week")
# 8. gsub() replace in text vectors
#
tiger_texts <- c(
"The tiger jumps around.",
"A tiger is sitting quietly.",
"The tiger runs through the grass.",
"A tiger lies down to rest.",
"The tiger plays with its tail."
)
gsub("tiger", "cat", tiger_texts)
# 8. gsub() replace in text vectors
#
tiger.texts <- c(
"The tiger jumps around.",
"A tiger is sitting quietly.",
"The tiger runs through the grass.",
"A tiger lies down to rest.",
"The tiger plays with its tail."
)
cat.texts <- gsub("tiger", "cat", tiger.texts)
cat.texts
m <- matrix(
c("Tiger", "Lion",
"Jumping", "Sleeping",
"Forest", "Savannah"),
nrow = 3,
ncol = 2,
byrow = TRUE
)
m
m <- matrix(
c("Tiger", "Lion",
"Jumping", "Sleeping",
"Forest", "Savannah"),
nrow = 3,
ncol = 2
)
m
m <- matrix(
c("Tiger", "Lion", "Dog",
"Yawning", "Sleeping", "Barking"),
nrow = 3,
ncol = 2,
byrow = T
)
m
m <- matrix(
c("Tiger", "Lion", "Dog",
"Yawning", "Sleeping", "Barking"),
nrow = 3,
ncol = 2
)
m
colnames(m) <- c("Animal", "Action")
m
m <- matrix(
c("Tiger", "Lion", "Dog", "Cat",
"Yawning", "Sleeping", "Barking", "Licking"),
nrow = 4,
ncol = 2
)
colnames(m) <- c("Animal", "Action")
m
ordering <- order(m[,"Animal"])
m[ordeing, ]
ordering <- order(m[,"Animal"])
m[ordering, ]
m
m <- matrix(
c("Tiger", "Lion", "Dog", "Cat", "Leopard",
"Yawning", "Sleeping", "Barking", "Licking", "Hunting"),
nrow = 4,
ncol = 2
)
colnames(m) <- c("Animal", "Action")
m <- matrix(
c("Tiger", "Lion", "Dog", "Cat", "Leopard",
"Yawning", "Sleeping", "Barking", "Licking", "Hunting"),
nrow = 5,
ncol = 2
)
colnames(m) <- c("Animal", "Action")
m
ordering <- order(m[,"Animal"])
m[ordering, ]
ordering <- order(m[,c("Animal", "Action")])
m[ordering, ]
ordering <- order(m[,c("Animal", "Action")])
ordering
ordering <- order(m[,"Animal"], m[, "Action"])
ordering
m[ordering, ]
m <- matrix(
c("Tiger", "Lion", "Dog", "Cat", "Leopard",
"Yawning", "Sleeping", "Barking", "Licking", "Hunting"),
nrow = 5,
ncol = 2
)
colnames(m) <- c("Animal", "Action")
m
ordering <- order(m[,"Animal"])
m[ordering, ]
m <- matrix(
c("Tiger", "Lion", "Dog", "Cat", "Lioness",
"Yawning", "Sleeping", "Barking", "Licking", "Hunting"),
nrow = 5,
ncol = 2
)
colnames(m) <- c("Animal", "Action")
m
ordering <- order(m[,"Animal"])
m[ordering, ]
ordering <- order(m[,"Animal"], m[, "Action"])
m[ordering, ]
m <- matrix(
c("Tiger", "Lion", "Dog", "Cat", "Lion",
"Yawning", "Sleeping", "Barking", "Licking", "Hunting"),
nrow = 5,
ncol = 2
)
colnames(m) <- c("Animal", "Action")
m
ordering <- order(m[,"Animal"])
m[ordering, ]
ordering <- order(m[,"Animal"], m[, "Action"])
m[ordering, ]
gene_exp <- matrix(
c(5.2, 3.1, 4.8,
2.4, 6.7, 5.5,
7.8, 8.2, 6.9,
1.2, 2.3, 1.9),
nrow = 4,
ncol = 3,
byrow = TRUE
)
rownames(gene_exp) <- c("GeneA", "GeneB", "GeneC", "GeneD")
colnames(gene_exp) <- c("Sample1", "Sample2", "Sample3")
gene.exp <- matrix(
c(5.2, 3.1, 4.8,
2.4, 6.7, 5.5,
7.8, 8.2, 6.9,
1.2, 2.3, 1.9),
nrow = 4,
ncol = 3,
byrow = TRUE
)
rownames(gene.exp) <- c("GeneA", "GeneB", "GeneC", "GeneD")
colnames(gene.exp) <- c("Sample1", "Sample2", "Sample3")
for (i in 1:nrow(gene.exp){
for (i in 1:nrow(gene.exp)){
exp.mean <- mean(gene.exp[i,], na.rm = TRUE)
exp.sd <- sd(gene.exp[i,], na.rm = TRUE)
results <- rbind(exp.mean, exp.sd, c("mean", "SD"))
}
results
for (i in 1:nrow(gene.exp)){
exp.mean <- mean(gene.exp[i,], na.rm = TRUE)
exp.sd <- sd(gene.exp[i,], na.rm = TRUE)
results <- rbind(exp.mean)
}
results
for (i in 1:nrow(gene.exp)){
exp.mean <- mean(gene.exp[i,], na.rm = TRUE)
exp.sd <- sd(gene.exp[i,], na.rm = TRUE)
results <- rbind(exp.mean, exp.sd)
}
results
exp.stats <- as.data.frame(Gene = rownames(gene.exp),
Mean = NA,
SD = NA)
exp.stats <- data.frame(Gene = rownames(gene.exp),
Mean = NA,
SD = NA)
for (i in 1:nrow(gene.exp)){
exp.stats$Mean[i] <- mean(gene.exp[i,], na.rm = TRUE)
exp.stats$SD[i] <- sd(gene.exp[i,], na.rm = TRUE)
}
exp.stats
rownames(exp.stats) <- exp.stats$Gene
exp.stats
exp.stats <- exp.stats[, -which(colnames(exp.stats) == "Gene")]
exp.stats
#
results <- c()
for (i in 1:nrow(gene.exp)){
mmean <- mean(gene.exp[i,], na.rm = TRUE)
msd <- sd(gene.exp[i,], na.rm = TRUE)
results <- rbind(results, c(mmean, sd))
}
results
exp.stats
# More simple option to get the stats
results <- c()
for (i in 1:nrow(gene.exp)){
mmean <- mean(gene.exp[i,], na.rm = TRUE)
msd <- sd(gene.exp[i,], na.rm = TRUE)
results <- rbind(results, c(mmean, msd))
}
results
rownames(results) <- rownames(gene.exp)
results
colnames(results) <- c("Mean", "SD")
results
# Always pre allocate
big.m <- matrix(runif(1000000), nrow= 100000, ncol = 10)
big.m
# Always pre allocate
big.m <- matrix(runif(1000000), nrow= 100000, ncol = 10)
system.time({
results <- c()
for (i in 1:nrow(gene.exp)){
mmean <- mean(gene.exp[i,], na.rm = TRUE)
msd <- sd(gene.exp[i,], na.rm = TRUE)
results <- rbind(results, c(mmean, msd))
}
})
Sys.time({
results <- matrix(NA, nrow = nrow(big.m), ncol = 2)
for (i in 1:nrow(gene.exp)){
mmean <- mean(gene.exp[i,], na.rm = TRUE)
msd <- sd(gene.exp[i,], na.rm = TRUE)
results[i, ] <- c(mmean, msd)
}
})
system.time({
results <- c()
for (i in 1:nrow(gene.exp)){
mmean <- mean(gene.exp[i,], na.rm = TRUE)
msd <- sd(gene.exp[i,], na.rm = TRUE)
results <- rbind(results, c(mmean, msd))
}
})
system.time({
results <- matrix(NA, nrow = nrow(big.m), ncol = 2)
for (i in 1:nrow(gene.exp)){
mmean <- mean(gene.exp[i,], na.rm = TRUE)
msd <- sd(gene.exp[i,], na.rm = TRUE)
results[i, ] <- c(mmean, msd)
}
})
source("C:/Data_Analysis_With_R/Lecture10.R")
big.m <- matrix(runif(1000000), nrow= 100000, ncol = 10)
system.time({
results <- c()
for (i in 1:nrow(gene.exp)){
mmean <- mean(gene.exp[i,], na.rm = TRUE)
msd <- sd(gene.exp[i,], na.rm = TRUE)
results <- rbind(results, c(mmean, msd))
}
})
system.time({
results <- matrix(NA, nrow = nrow(big.m), ncol = 2)
for (i in 1:nrow(gene.exp)){
mmean <- mean(gene.exp[i,], na.rm = TRUE)
msd <- sd(gene.exp[i,], na.rm = TRUE)
results[i, ] <- c(mmean, msd)
}
})
# Always pre allocate
big.m <- matrix(runif(10000000), nrow= 100000, ncol = 100)
system.time({
results <- c()
for (i in 1:nrow(gene.exp)){
mmean <- mean(gene.exp[i,], na.rm = TRUE)
msd <- sd(gene.exp[i,], na.rm = TRUE)
results <- rbind(results, c(mmean, msd))
}
})
results
# Always pre allocate
big.m <- matrix(runif(1000000), nrow= 10000, ncol = 100)
system.time({
results <- c()
for (i in 1:nrow(big.m)){
mmean <- mean(big.m[i,], na.rm = TRUE)
msd <- sd(big.m[i,], na.rm = TRUE)
results <- rbind(results, c(mmean, msd))
}
})
system.time({
results <- matrix(NA, nrow = nrow(big.m), ncol = 2)
for (i in 1:nrow(big.m)){
mmean <- mean(big.m[i,], na.rm = TRUE)
msd <- sd(big.m[i,], na.rm = TRUE)
results[i, ] <- c(mmean, msd)
}
})
results
system.time({
results <- matrix(NA, nrow = nrow(big.m), ncol = 2)
for (i in 1:nrow(big.m)){
mmean <- mean(big.m[i,], na.rm = TRUE)
msd <- sd(big.m[i,], na.rm = TRUE)
results[i, ] <- c(mmean, msd)
}
})
source("C:/Data_Analysis_With_R/Lecture10.R")
source("C:/Data_Analysis_With_R/Lecture10.R")
source("C:/Data_Analysis_With_R/Lecture10.R")
